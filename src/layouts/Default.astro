---
import MainHead from '../components/MainHead.astro';
import TheHeader from '../components/TheHeader.jsx';
import TheFooter from '../components/TheFooter.jsx';
import TheNavigation from '../components/Nav/TheNavigation'

import * as mainContent from '../pages/index.md';

const pages = (await Astro.glob('../pages/**/*.md'))
    .filter(({ frontmatter }) => !!frontmatter.navTitle)
    .sort((a, b) => a?.frontmatter.rank - b?.frontmatter.rank)


const { content } = Astro.props;
---

<html lang={content.lang || 'en' }>

<head>
    <MainHead title={content.title} description={content.description} />
</head>

<body>

    <div class="bg-gradient-to-br from-gray-900 to-black">
        <div class="text-gray-300 container mx-auto p-8 overflow-hidden md:rounded-lg md:p-10 lg:p-12">
            <div class="flex justify-between">
                <h1 class="font-serif text-3xl font-medium">
                    <a href="/">{mainContent.frontmatter.companyName}</a>
                </h1>
            </div>

            <TheNavigation pages={pages} client:load />

            <div class="h-32 md:h-40"></div>

            <TheHeader title={content.title} subtitle={content.subtitle} />

            <div class="min-h-screen">
                <slot />
            </div>

            <div class="h-12"></div>

            <TheFooter content={mainContent.frontmatter.TheFooter} />
        </div>
    </div>


    <!-- <header style={`background-image:url(${content.img})`} class="hero">
        <h1 class="title">{content.title}</h1>
        <pre>
            { content.TheFooter.social[0].name }
        </pre>
    </header>
    <div class="leadIn">
        <div class="wrapper pt8 pb8 mb8 tac">
            {content.tags.map((t) => <span class="tag">{t}</span>)}
			<h3 class="tagline">{content.description}</h3>
        </div>
    </div>
    <div class="wrapper wrapper__readable">
        <div class="content">
            <slot />
        </div>
    </div>
    <footer class="tac mt6">
        <a href="/projects">
            <Button>View More</Button>
        </a>
    </footer>
    <Footer /> -->

</body>

</html>